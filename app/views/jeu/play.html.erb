<%= stylesheet_link_tag('jeu') %>
<%= favicon_link_tag asset_path('zyro-image.png') %>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })
</script>

<img id="status-volume-on" src="/images/volume_on.png" class="volume_icon status-volume">
<img id="status-volume-off" src="/images/volume_off.png" class="volume_icon status-volume">

<img id="sac-a-dos" src="/images/sac_a_dos.jpg">

<div id="inventaire">
    <div id="contenu-inventaire">
        <div id="header-inventaire" class="flex align-items space-between">
            <img src=<%= @personnage.avatar %>>
            <div class="flex column">
                <div class="case"></div>
                <div class="case"></div>
                <div class="case"></div>
            </div>
        </div>
        <div class="main-case">
        <% number = 0 %>
            <% for i in 1..@rangee do %>
            <div class="flex">
                <% for a in 1..5 do %>
                    <% if @structured_inventaire[number] %>
                        <% 
                            chaineData = @structured_inventaire[number][0].data
                            data = chaineData.split(":")
                            if data[0] == "Point de vie"
                                classeData = "pv"
                            elsif data[0] == "Point d'attaque"
                                classeData = "force"
                            elsif data[0] == "Point d'exp"
                                classeData = "exp"
                            elsif data[0] == "Vitesse"
                                classeData = "vitesse"
                            elsif data[0] == "Valeur"
                                classeData = "valeur"
                            else 
                                classeData = "none"
                            end
                        %>
                        <div class="case maj" id=<%= number %> style="background-image: url(<%= @structured_inventaire[number][0].image %>);" data-toggle="tooltip" data-html="true" data-placement="right" title="<div class='title'><h6 class='maj'><%= @structured_inventaire[number][0].nom %></h6><h5 class='<%= @structured_inventaire[number][0].rarete %> rarete maj'><%= @structured_inventaire[number][0].rarete %></h5><p class='maj'><%= @structured_inventaire[number][0].description %></p><h6 class='<%= classeData %> data'><%= @structured_inventaire[number][0].data %></h6></div>">
                            <% if @structured_inventaire[number][1] != 1 %>
                                <h4 class="infoData"><%= @structured_inventaire[number][1] %></h4>
                            <% end %>
                        </div>
                    <% else %>
                        <div class="case" id=<%= number %>></div>
                    <% end %>
                    <% number += 1 %>
                <% end %>
            </div>
            <% end %>
        </div>
    </div>
</div>

<div id="options">
    <div id="main-menu">
        <div class="lg bg flex align-items justify-content" id="reprendre-partie">
            <h1>Reprendre</h1>
        </div>
        <div class="flex menu-md">
            <div class="md bg flex align-items justify-content left" id="option-button">
                <h1>Options</h1>
            </div>
            <div class="md bg flex align-items justify-content right" id="quitter-button">
                <h1>Quitter</h1>
            </div>
        </div>
    </div>
    <div id="options-menu">
        <div class="flex menu-md">
            <div class="md bg flex align-items justify-content left" id="audio-button">
                <h1>Audio</h1>
            </div>
            <div class="md bg flex align-items justify-content right" id="profil-button">
                <h1>Profil</h1>
            </div>
        </div>
        <div class="lg bg flex align-items justify-content" id="retour-option">
            <h1>Retour</h1>
        </div>
    </div>
    <div id="audio-menu">
        <div class="lg bg msg flex align-items justify-content column">
            <h1>Utilisez Firefox pour ne pas avoir à réactiver le son à chaque fois</h1>
            <div class="flex align-items justify-content space-between w-100 container_volume_icon">
                <img src="/images/volume_on.png" class="volume_icon">
                <h1>Son activé</h1>
            </div>
            <div class="flex align-items justify-content space-between w-100 container_volume_icon">
                <img src="/images/volume_off.png" class="volume_icon">
                <h1>Son desactivé</h1>
            </div>
        </div>
        <div class="flex menu-md">
            <div class="md bg flex align-items justify-content left">
                <label for="volume-music">Musique</label>
                <input type="range" id="volume-music" name="volume-music" min="0" max="10" steps="1">
            </div>
            <div class="md bg flex align-items justify-content right">
                <label for="volume-effect">Effet</label>
                <input type="range" id="volume-effect" name="volume-effect" min="0" max="10" steps="1">
            </div>
        </div>
        <div class="lg bg flex align-items justify-content" id="retour-audio">
            <h1>Retour</h1>
        </div>
    </div>
    <div id="profil-menu">
        <div id="profil">
            <div class="flex align-items space-between">
                <img src=<%= @personnage.avatar %> id="avatar-profil">
                <h1 class="color username"><%= @user.name %></h1>
            </div>
            <div class="flex align-items">
                <h1>Classe : </h1>
                <h1 class="color info classe"><%= @personnage.classe %></h1>
            </div>
            <div class="flex align-items">
                <h1>Niveau : </h1>
                <h1 class="color info"><%= @personnage.exp_joueur %></h1>
            </div>
            <div class="flex align-items">
                <h1>Argent : </h1>
                <h1 class="color info"><%= @personnage.argent %> écus</h1>
            </div>
            <div class="flex align-items">
                <h1>Point de vie : </h1>
                <h1 class="color info"><%= @personnage.pv %></h1>
            </div>
            <div class="flex align-items">
                <h1>Force : </h1>
                <h1 class="color info"><%= @personnage.force %></h1>
            </div>
            <div class="flex align-items">
                <h1>Vitesse : </h1>
                <h1 class="color info"><%= @personnage.vitesse %></h1>
            </div>
        </div>
        <div class="lg bg flex align-items justify-content" id="retour-profil">
            <h1>Retour</h1>
        </div>
    </div>
</div>

<script type="text/javascript" src="/javascript/jeu.js">
</script>